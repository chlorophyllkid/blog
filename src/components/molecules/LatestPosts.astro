---
import { getCollection } from 'astro:content'

import FormattedDate from '../../components/atoms/FormattedDate.astro'

const posts = (await getCollection('blog')).sort((a, b) => a.data.pubDate.valueOf() < b.data.pubDate.valueOf())
---

<ul>
  {
    posts.map((post) => (
      <li>
        <FormattedDate date={post.data.pubDate} />
        <a href={`/blog/${post.slug}/`}>{post.data.title}</a>
      </li>
    ))
  }
</ul>

<style>
  ul {
    list-style-type: none;
    padding: unset;
  }
  ul li {
    display: flex;
  }
  ul li + li {
    margin-top: 1em;
  }
  ul li a:visited {
    color: #8e32dc;
  }
</style>
